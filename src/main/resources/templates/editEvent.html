<!DOCTYPE html>
<html lang="en">

{{>header}}

<body>
<nav class="navbar navbar-expand-lg navbar-dark fixed-top" id="mainNav">
    <div class="container">
        <a class="navbar-brand" href="../admin">
            <h1>PGEC</h1>
        </a>
    </div>
</nav>
<section class="page-section">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 mx-auto">
                {{#sessions}}
                <div class="text-uppercase">
                    <h1 class="text-center my-5">EDITAR EVENTO: {{name}}</h1>
                </div>
                <form method="POST" action="/events/edit" enctype="multipart/form-data">
                    <input type="hidden" name="_method" value="PUT">
                    <input type="hidden" name="name" value="{{name}}">
                    <div class="form-group">
                        <label for="description" class="text-align = left;">Descripción del evento*</label>
                        <div id="description" class="form-control text-center" contenteditable="true" placeholder="" style="text-align: left;"></div>
                        <div class="text-toolbar">
                            <button class="btn btn-secondary" type="button" onclick="document.execCommand('bold', false, null);"><i class="fas fa-bold"></i></button>
                            <button class="btn btn-secondary" type="button" onclick="document.execCommand('italic', false, null);"><i class="fas fa-italic"></i></button>
                            <button class="btn btn-secondary" type="button" onclick="document.execCommand('underline', false, null);"><i class="fas fa-underline"></i></button>
                            <button class="btn btn-secondary" type="button" onclick="document.execCommand('foreColor', false, 'green');"><i class="fas fa-font" style="color:green;"></i></button>
                            <button class="btn btn-secondary" type="button" onclick="document.execCommand('foreColor', false, 'red');"><i class="fas fa-font" style="color:red;"></i></button>
                            <button class="btn btn-secondary" type="button" onclick="document.execCommand('foreColor', false, 'yellow');"><i class="fas fa-font" style="color:yellow;"></i></button>
                            <button class="btn btn-secondary" type="button" onclick="document.execCommand('foreColor', false, 'blue');"><i class="fas fa-font" style="color:blue;"></i></button>
                            <button class="btn btn-secondary" type="button" onclick="resetTextColor();"><i class="fas fa-font" style="color:black;"></i></button>
                        </div>
                        <textarea id="description-input" class="form-control" name="description" style="display: none;"></textarea>
                        <br>
                    </div>
                    <div class="form-group">
                        <label for="date" class="text-align = left;">Fecha del evento*</label>
                        <input type="date" class="form-control text-center" id="date" name="date" placeholder="" required>
                        <br>
                    </div>
                    <div class="form-group">
                        <label for="address" class="text-align = left;">Dirección para el evento*</label>
                        <input type="text" class="form-control text-center" id="address" name="address" placeholder="" required>
                        <br>
                    </div>
                    <div class="form-group">
                        <label for="ticketPrice" class="text-align = left;">Precio base para el evento (el precio debe ser >= 0)*</label>
                        <input type="number" class="form-control text-center" id="ticketPrice" name="ticketPrice" placeholder="0.00" required step="0.01" min="0">
                        <br>
                    </div>
                    <div class="form-group">
                        <label for="image">Imagen del evento (solo válido jpg/jpeg/png)*</label>
                        <div id="image-preview-container">
                            <img id="image-preview" src="image" alt="Preview" style="max-width: 100%; max-height: 200px;">
                        </div>
                        <br>
                        <input type="file" class="form-control" id="image" name="image" placeholder="" required onchange="previewImage(this)">
                        <br>
                    </div>
                    <div class="form-group">
                        <label for="availableTickets" class="text-align = left;">Num de tickets disponibles* (actuales = {{availableTickets}})</label>
                        <input type="number" class="form-control text-center" id="availableTickets" name="availableTickets" placeholder="" required step="1" min="0" >
                        <br>
                    </div>
                    <label></label>
                    <button class="btn btn-primary text-center my-5" type="submit" onclick="formatDescription();">GUARDAR CAMBIOS</button>
                </form>
                {{/sessions}}
            </div>
        </div>
    </div>
</section>

{{>footer}}

<script src="js/imagesFunc.js"></script>
<script src="js/formatDescription.js"></script>
</body>

</html>
